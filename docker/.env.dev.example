# Development Environment Variables
# Copy this file to .env for development setup

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Domain and URL Configuration
DOMAIN=localhost
NUXT_PUBLIC_DOMAIN=localhost
NUXT_PUBLIC_USE_HTTPS=false
NUXT_PUBLIC_API_BASE=http://localhost:8536

# Environment
NODE_ENV=development
RUST_LOG=debug,tinyboards_api=trace,tinyboards_db=debug
RUST_BACKTRACE=full
ENVIRONMENT=development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Connection
POSTGRES_USER=tinyboards
POSTGRES_PASSWORD=tinyboards
POSTGRES_DB=tinyboards
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Database URL (auto-generated from above, but can be overridden)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Database Performance (Development)
POSTGRES_MAX_CONNECTIONS=50
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_WORK_MEM=16MB

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# JWT and Encryption
SALT_SUFFIX=dev_salt_change_in_production
JWT_SECRET=dev_jwt_secret_change_in_production

# Admin Account (Development Only)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123456789
ADMIN_EMAIL=admin@localhost

# =============================================================================
# MEDIA AND UPLOADS
# =============================================================================

# Media Storage
MEDIA_PATH=/app/media
MAX_FILE_SIZE_MB=100

# Upload Limits
CLIENT_MAX_BODY_SIZE=100M

# =============================================================================
# EMAIL CONFIGURATION (Optional for Development)
# =============================================================================

# SMTP Settings (Optional - use MailHog for development)
SMTP_SERVER=mailhog:1025
SMTP_LOGIN=
SMTP_PASSWORD=
SMTP_FROM_ADDRESS=noreply@localhost
TLS_TYPE=none

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Connection
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis Performance
REDIS_MAX_MEMORY=256mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Hot Reloading and DevTools
NUXT_DEVTOOLS_ENABLED=true
CARGO_INCREMENTAL=1
RUST_LOG_STYLE=always

# Debug Ports
DEBUG_PORT_BACKEND=9229
DEBUG_PORT_FRONTEND=24678

# =============================================================================
# RATE LIMITING (Permissive for Development)
# =============================================================================

# API Rate Limits (per minute)
RATE_LIMIT_MESSAGE=1800
RATE_LIMIT_POST=60
RATE_LIMIT_REGISTER=30
RATE_LIMIT_IMAGE=60
RATE_LIMIT_COMMENT=60
RATE_LIMIT_SEARCH=600

# =============================================================================
# SITE CONFIGURATION
# =============================================================================

# Site Information
SITE_NAME=TinyBoards Development
DEFAULT_BOARD_NAME=dev
DEFAULT_BOARD_DESCRIPTION=Development and testing board

# Features
CAPTCHA_ENABLED=false
CAPTCHA_DIFFICULTY=easy
REGISTRATION_OPEN=true

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Log Levels
LOG_LEVEL=debug
NGINX_LOG_LEVEL=debug

# Health Check URLs
HEALTH_CHECK_BACKEND=http://localhost:8536/api/v1/site
HEALTH_CHECK_FRONTEND=http://localhost:3000/health

# =============================================================================
# DEVELOPMENT SERVICES
# =============================================================================

# Adminer Database Management
ADMINER_ENABLED=true
ADMINER_PORT=8081

# Redis Commander
REDIS_COMMANDER_ENABLED=true
REDIS_COMMANDER_PORT=8082
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin

# MailHog for Email Testing
MAILHOG_ENABLED=true
MAILHOG_WEB_PORT=8025
MAILHOG_SMTP_PORT=1025

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Image Tags
TINYBOARDS_IMAGE=tinyboards:dev
TINYBOARDS_FE_IMAGE=tinyboards-fe:dev

# Container Names
CONTAINER_PREFIX=tinyboards_dev

# Network Settings
NETWORK_NAME=tinyboards_dev_network
NETWORK_SUBNET=172.21.0.0/16

# Volume Settings
VOLUME_PREFIX=tinyboards_dev

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================

# CORS Settings (Permissive for Development)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3001,http://127.0.0.1:3001,http://localhost:8080,http://127.0.0.1:8080
CORS_ALLOW_CREDENTIALS=true

# Cache Settings (Disabled for Development)
CACHE_ENABLED=false
CACHE_TTL=0

# SSL Settings (Disabled for Development)
TLS_ENABLED=false
SSL_REDIRECT=false

# Performance Settings (Relaxed for Development)
WORKER_PROCESSES=auto
WORKER_CONNECTIONS=1024
KEEPALIVE_TIMEOUT=65

# =============================================================================
# OPTIONAL DEVELOPMENT FEATURES
# =============================================================================

# Code Coverage
ENABLE_COVERAGE=false

# Profiling
ENABLE_PROFILING=false

# API Documentation
ENABLE_API_DOCS=true
API_DOCS_PORT=8090

# GraphQL Playground
ENABLE_GRAPHQL_PLAYGROUND=true

# =============================================================================
# NOTES FOR DEVELOPERS
# =============================================================================

# 1. Never commit this file with real credentials
# 2. Use strong passwords in production
# 3. Change all default secrets before deploying
# 4. Review security settings before production deployment
# 5. Some settings are automatically overridden in development mode

# =============================================================================
# COMPOSE OVERRIDES
# =============================================================================

# These can be used to override specific compose configurations
COMPOSE_PROJECT_NAME=tinyboards_dev
COMPOSE_FILE=docker-compose.dev.yml